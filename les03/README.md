# –õ–µ–∫—Ü–∏—è 3. –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ Spring

–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ Spring-—Å–æ—Å—Ç–æ–∏—Ç –∏—Ö –¥–≤—É—Ö —ç—Ç–∞–ø–æ–≤:

+ –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (java-–∫–ª–∞—Å—Å–æ–≤) —Ä–µ–∞–ª–∏–∑—É—é—â–∏—Ö –±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
+ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞  - –ø–æ–º–µ—â–µ–Ω–∏–µ –∏–Ω—Å—Ç–∞–Ω—Ü–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Spring.

–û–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º Spring IoC (Inversion of Control) –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **Spring Bean**. –ë–∏–Ω—ã —Å–æ–∑–¥–∞—é—Ç—Å—è, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è, —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∏ —É–Ω–∏—á—Ç–æ–∂–∞—é—Ç—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º Spring –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.
  
–Ø–¥—Ä–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ Spring —Å–ª—É–∂–∏—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å [**BeenFactory**](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/BeanFactory.html), –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ Spring Beans, –≤ —Ç–æ–º —á–∏—Å–ª–µ –∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –∏ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º–∏ —Ü–∏–∫–ª–∞–º–∏. –¢–µ—Ä–º–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç **Spring –í–µ–∞–ø** —É–ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç—Å—è –≤ Spring –¥–ª—è –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –ª—é–±–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, —É–ø—Ä–∞–≤–ª—è–µ–º–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º.
–ó–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ **Spring –í–µ–∞–ø** –æ—Ç–≤–µ—á–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ [**BeenDefinition**](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/config/BeanDefinition.html).  

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å ApplicationContext —Å–ª—É–∂–∏—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ BeanFactory –≤ Spring. –ü–æ–º–∏–º–æ —É—Å–ª—É–≥ no –≤–Ω–µ–¥—Ä–µ–Ω–∏—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Application Context –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–∞–∫–∏–µ —É—Å–ª—É–≥–∏, –∫–∞–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ –ê–û–ü, –∏—Å—Ç–æ—á–Ω–∏–∫ —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ (i18n), –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –∏ –ø—Ä. –≠—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫ –∫–æ—Ç–æ—Ä—ã–º –º—ã –±—É–¥–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## üî¥ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ ApplicationContext

–í–∏–¥—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è ApplicationContext:

1. XML-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
   + –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–∞–π–ª applicationContext.xml
   + –ë–∏–Ω—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é XML-—Ç–µ–≥–æ–≤
   + –£—Å—Ç–∞—Ä–µ–≤—à–∏–π –º–µ—Ç–æ–¥, –Ω–æ –∏–Ω–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ª–µ–≥–∞—Å–∏-–∫–æ–¥–µ

2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π
   + –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @Component, @Service, @Repository, @Controller, @Bean, @Configuration
   + –¢—Ä–µ–±—É–µ—Ç –≤–∫–ª—é—á–µ–Ω–∏—è Component Scan (@ComponentScan)
   + –ë–æ–ª–µ–µ –≥–∏–±–∫–∏–π –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥

3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ Java-–∫–ª–∞—Å—Å–æ–≤ (@Configuration)
   + –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @Configuration –∏ @Bean
   + –ü–æ–∑–≤–æ–ª—è–µ—Ç –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ–º –±–∏–Ω–æ–≤

## üî¥ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ Java-–∫–ª–∞—Å—Å–æ–≤

C Java –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –º—ã –ø–æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å –Ω–∞ –ø—Ä–æ—à–ª–æ–π –ª–µ–∫—Ü–∏–∏.

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è - <https://docs.spring.io/spring-framework/reference/core/beans/java/configuration-annotation.html>

``` java
@Configuration
public class MessageConfiguration {

    @Bean
    MessageProvider  provider() {
        return new MessageProviderImpl();
    } 
    
    @Bean
    MessageRenderer renderer() {
        MessageRenderer renderer = new MessageRendererImpl();
        renderer.setMessageProvider(provider());
        return renderer;
    } 
}
```

–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:

+ –í–æ–∑—Ä–∞—Å—Ç–∞–µ—Ç –æ–±—ä–µ–º –∫–æ–¥–∞ - –í Java-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã @Bean, —á—Ç–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –æ–±—ä–µ–º –∫–æ–¥–∞.
+ –¢—Ä—É–¥–Ω–æ—Å—Ç–∏ —Å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º - –° –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ –∫–æ–¥ –æ—Å—Ç–∞–µ—Ç—Å—è –±–æ–ª–µ–µ –º–æ–¥—É–ª—å–Ω—ã–º, —Ç–∞–∫ –∫–∞–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –ø–æ –∫–ª–∞—Å—Å–∞–º.

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

+ –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —á–µ—Ç–∫–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –±–∏–Ω–æ–≤ –∏ –∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.
+ –ö–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–∏–ª—å–Ω–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∏ –ø—Ä–æ—Ñ–∏–ª–µ–π.
+ –ö–æ–≥–¥–∞ —Ö–æ—á–µ—Ç—Å—è –∏–∑–±–µ–∂–∞—Ç—å –º–∞–≥–∏–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π –∏ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –æ—Ç–ª–∞–¥–∫—É.
+ –ö–æ–≥–¥–∞ –ø—Ä–æ–µ–∫—Ç –æ—á–µ–Ω—å –±–æ–ª—å—à–æ–π, –∏ –≤–∞–∂–Ω–æ —á–µ—Ç–∫–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é.

## üî¥ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π

### üü¢ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ Spring

–î—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–± –æ–±—ä—è–≤–ª–µ–Ω–∏—è –±–∏–Ω–æ–≤ ‚Äî —ç—Ç–æ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤ –Ω–∞–ø—Ä—è–º—É—é —Å –ø–æ–º–æ—â—å—é —Å—Ç–µ—Ä–µ–æ—Ç–∏–ø–Ω—ã—Ö –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π.
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è - <https://docs.spring.io/spring-framework/reference/core/beans/classpath-scanning.html>

**–°—Ç–µ—Ä–µ–æ—Ç–∏–ø–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏**‚Äî —ç—Ç–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ Spring, –∫–æ—Ç–æ—Ä—ã–µ —É–∫–∞–∑—ã–≤–∞—é—Ç, —á—Ç–æ –∫–ª–∞—Å—Å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —Ç–∏–ø –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–±–∏–Ω) –∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ Spring-–∫–æ–Ω—Ç–µ–∫—Å—Ç–µ.

| –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è        | –û–ø–∏—Å–∞–Ω–∏–µ | –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è |
|-----------------|----------|----------------|
| `@Component`    | –ë–∞–∑–æ–≤–∞—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è –¥–ª—è –ª—é–±–æ–≥–æ Spring-–±–∏–Ω–∞. | –õ—é–±–æ–π –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω —É–ø—Ä–∞–≤–ª—è—Ç—å—Å—è Spring. |
| `@Service`      | –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è –¥–ª—è —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ —Å–ª–æ—è, —Å–æ–¥–µ—Ä–∂–∞—â–µ–≥–æ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É. | –ö–ª–∞—Å—Å—ã —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, UserService). |
| `@Repository`   | –£–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –∫–ª–∞—Å—Å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ä–∞–±–æ—Ç—É —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö. –ü–æ–∑–≤–æ–ª—è–µ—Ç Spring –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ë–î. | DAO-–∫–ª–∞—Å—Å—ã, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—â–∏–µ —Å –±–∞–∑–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, UserRepository). |
| `@Controller`   | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ MVC-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—Ç–∞ HTML-—Å—Ç—Ä–∞–Ω–∏—Ü. | –ö–ª–∞—Å—Å—ã-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, HomeController). |
| `@RestController` | –°–æ–≤–º–µ—â–∞–µ—Ç `@Controller` –∏ `@ResponseBody`, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è REST API, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON/XML. | REST-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, ApiController). |

–°–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º –ø—Ä–æ–µ–∫—Ç –∏–∑ –ø—Ä–æ—à–ª–æ–π –ª–µ–∫—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π.

```java
@Component("provider")
public class ProviderImpl  implements Provider{

    @Override
    public String getMessage() {
        return "Message from provider";
    }

}
```

```java
@Component("renderer")
public class RendererImpl implements Renderer {

    private Provider provider;

    @Override
    public void render() {
        System.out.println(provider.getMessage());
    }

}
```

–û–¥–Ω–∞–∫–æ, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏, Spring –Ω–µ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–∫–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –¥–æ–±–∞–≤–ª—è—Ç—å –∏–∑ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.  –ï–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ "–∑–∞—Å—Ç–∞–≤–∏—Ç—å" –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–∏—Å–∫ —Å –ø–æ–º–æ—â—å—é –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @ComponentScan.

``` java

@Configuration
@ComponentScan(basePackages = "ru.bsuedu.cap.component")
public class Config {

}
```

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ —Ç–∞–∫–æ–º –≤–∏–¥–µ –º—ã –ø–æ–ª—É—á–∏–º –æ—à–∏–±–∫—É

``` bash
> Task :app:run FAILED
Exception in thread "main" java.lang.NullPointerException: Cannot invoke "ru.bsuedu.cap.component.Provider.getMessage()" because "this.provider" is null
        at ru.bsuedu.cap.component.impl.RendererImpl.render(RendererImpl.java:16)
        at ru.bsuedu.cap.component.App.main(App.java:14)
```

–û—à–∏–±–∫–∞ –≤—ã–∑–≤–∞–Ω–∞ —Ç–µ–º, –º—ã –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–æ–ª–µ provider –≤ –∫–ª–∞—Å—Å–µ RendererImpl.

### üü¢ –ò–Ω—ä–µ–∫—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è - <https://docs.spring.io/spring-framework/reference/core/beans/annotation-config.html>

#### –†—É—á–Ω–æ–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ

–ü–æ–ª—É—á–∏—Ç—å –æ–±–∞ –±–∏–Ω–∞ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å provider –≤—Ä—É—á–Ω—É—é


```java

public class App {
    public static void main(String[] args) {
        ApplicationContext ctx = new AnnotationConfigApplicationContext(Config.class);
         Renderer mr = ctx.getBean("renderer", Renderer.class);
         Provider pr = ctx.getBean("provider", Provider.class);
         mr.setProvider(pr);
         mr.render();
          }
    }

```

–ù–∏–∫–æ–≥–¥–∞ —Ç–∞–∫ –Ω–µ –¥–µ–ª–∞–π—Ç–µ ü§Æ

---

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (Setter Injection)

Setter Injection ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ Spring —á–µ—Ä–µ–∑ —Å–µ—Ç—Ç–µ—Ä-–º–µ—Ç–æ–¥—ã (–º–µ—Ç–æ–¥—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–Ω–∞—á–µ–Ω–∏–π).

Spring –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –Ω—É–∂–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –æ–±—ä–µ–∫—Ç, –≤—ã–∑—ã–≤–∞—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ setter-–º–µ—Ç–æ–¥—ã –ø–æ–º–µ—á–µ–Ω–Ω—ã–π –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π @Autowired.

``` java
@Component("renderer")
public class RendererImpl implements Renderer {

    private Provider provider;

    @Autowired
    public void setProvider(Provider provider) {
        this.provider = provider;
    }

    @Override
    public void render() {
        System.out.println(provider.getMessage());
    }

}
```
---

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

Constructor Injection ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–ª–∞—Å—Å–∞. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–∞–∏–±–æ–ª–µ–µ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–º üòç, —Ç–∞–∫ –∫–∞–∫:

+ –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—ä—è–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∫–∞–∫ final, –∏—Å–∫–ª—é—á–∞—è –∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞.
+ –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –æ–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞—Å—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏.
+ –£–ø—Ä–æ—â–∞–µ—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ (–ª–µ–≥–∫–æ –≤–Ω–µ–¥—Ä—è—Ç—å –º–æ–∫-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏).

```java
@Component("renderer")
public class RendererImpl implements Renderer {

    private final Provider provider;


    @Autowired
    public RendererImpl(Provider provider) {
        this.provider = provider;
    }



    @Override
    public void render() {
        System.out.println(provider.getMessage());
    }

}
```

---

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –ø–æ–ª–µ

Field Injection ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ –ø—Ä—è–º—É—é –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é @Autowired –Ω–∞ –ø–æ–ª–µ –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ—Ç—Ç–µ—Ä–æ–≤ –∏–ª–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞.

``` java
@Component("renderer")
public class RendererImpl implements Renderer {

    @Autowired
    private  Provider provider;


    @Override
    public void render() {
        System.out.println(provider.getMessage());
    }

}
```

### üü¢ –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –±–∏–Ω–æ–≤. –ü—Ä–∞–≤–∏–ª–∞ –∞–≤—Ç–æ—Å–≤—è–∑—ã–≤–∞–Ω–∏—è

#### –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –±–∏–Ω–æ–≤

–ö–∞–∂–¥—ã–π –±–∏–Ω –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ Spring –∏–º–µ–µ—Ç –∏–º–µ–µ—Ç –∏–º—è.
–ß—Ç–æ –±—ã –≤—ã–≤–µ—Å—Ç–∏ –∏–º–µ–Ω–∞ –±–∏–Ω–æ–≤ –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–ª–µ–¥—É—é—â–∏–º –∫–æ–¥–æ–º:

```java
 Arrays.stream(ctx.getBeanDefinitionNames()).forEach(beanName -> System.out.println(beanName));
```

–° –ø–æ–º–æ—â—å—é –¥–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ –ø–æ–ª—É—á–µ–º –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤—Å–µ –∏–º–µ–Ω–∞ –±–∏–Ω–æ–≤ –∏ –≤—ã–≤–æ–¥–∏–º –∏—Ö –Ω–∞ —ç–∫—Ä–∞–Ω.

–ò–º–µ–Ω–∞ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –ø—Ä–∞–≤–∏–ª–∞–º

1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–º–µ–Ω–∏ –±–∏–Ω
   
```java
@Component
public class UserService {
}
```

–ò–º—è –±–∏–Ω–∞ –±—É–¥–µ—Ç —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∫–ª–∞—Å—Å–∞, –Ω–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å —Å—Ç—Ä–æ—á–Ω–æ–π –±—É–∫–≤—ã - userService

2. –£–∫–∞–∑–∞–Ω–∏–µ –∏–º–µ–Ω–∏ –±–∏–Ω–∞ –≤—Ä—É—á–Ω—É—é
   
```java
@Component("customUserService")
public class UserService {
}
```

–ò–º—è –±–∏–Ω–∞ -  customBeanName

---

#### –ü—Ä–∞–≤–∏–ª–∞ –∞–≤—Ç–æ—Å–≤—è–∑—ã–≤–∞–Ω–∏—è

|–°–ø–æ—Å–æ–± |–û–ø–∏—Å–∞–Ω–∏–µ|
|-|-|
|@Autowired (–ø–æ —Ç–∏–ø—É)|–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø–æ —Ç–∏–ø—É –∫–ª–∞—Å—Å–∞|
|@Qualifier (–ø–æ –∏–º–µ–Ω–∏)|–ü–æ–∑–≤–æ–ª—è–µ—Ç —É–∫–∞–∑–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –±–∏–Ω –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö|
|@Primary|–£–∫–∞–∑—ã–≤–∞–µ—Ç –±–∏–Ω –∫–∞–∫ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤|
|@Resource(name = "...")|–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–æ –∏–º–µ–Ω–∏ –±–∏–Ω–∞ (–∏–∑ JSR-250)|
|@Inject|–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ @Autowired –∏–∑ Java CDI (JSR-330)|

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ç–∏–ø –∞–≤—Ç–æ—Å–≤—è–∑—ã–≤–∞–Ω–∏—è –ø–æ —Ç–∏–ø—É —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä.

### üü¢  –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –±–∏–Ω–æ–≤

–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –±–∏–Ω–∞ –≤ Spring –≤–∫–ª—é—á–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç—Ç–∞–ø–æ–≤ ‚Äî –æ—Ç —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏—è. Spring –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —ç—Ç–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º, –≤–∫–ª—é—á–∞—è –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ.

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è - <https://docs.spring.io/spring-framework/reference/core/beans/factory-nature.html>

### üü¢ –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è - <https://docs.spring.io/spring-framework/reference/core/beans/annotation-config/value-annotations.html>

---

#### –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –ø—Ä–æ—Å—Ç—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

–î–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –ø—Ä–æ—Å—Ç—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è @Value

```java
@Component("providerValue")
public class ProviderValueImpl  implements Provider{

    @Value("Message from provider value")
    private String message;

    @Value("10")
    private int count;

    @Value("true")
    private boolean isSimple;

    @Override
    public String getMessage() {
        return String.format("Message -  %s, %d, %b", message, count,isSimple);
    }

}
```

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ @PropertySource

–í Spring @PropertySource –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–≤–æ–π—Å—Ç–≤ –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö —Ñ–∞–π–ª–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, .properties –∏–ª–∏ .yml) –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –∫–æ–¥–∞.

```java
@Component("providerResource")
@PropertySource("application.properties")
public class ProviderResource implements Provider {

    @Value("${filename}")
    private String fileName;

    @Override
    public String getMessage() {
        return  fileName;
    }
    
}
```

---

#### –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º SpEL

SpEL (Spring Expression Language) ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –≤—ã—Ä–∞–∂–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–Ω–µ–¥—Ä—è—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —Å–≤–æ–π—Å—Ç–≤–∞ –≤ Spring. –° –ø–æ–º–æ—â—å—é SpEL –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏—è, –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –∏ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏ –ø—Ä—è–º–æ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π Spring.
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è -  <https://docs.spring.io/spring-framework/reference/core/expressions.html>

–ö–ª–∞—Å—Å Property –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è.

```java
@Component("property")
public class Property {
    private final String version = "1.0.0";

    public String getVersion() {
        return version;
    }

    private final String name = "Component";

    public String getName() {
        return name;
    }

    private final String author = "Sergey";

    public String getAuthor() {
        return author;
    }

    private final List<String> numList = Arrays.asList("1", "2", "3", "4", "5");

    public List<String> getNumList() {
        return numList;
    }

    public String getFileName() {
        Properties prop = new Properties();
        try {
            prop.load(Property.class.getClassLoader().getResourceAsStream("application.properties"));
            return prop.getProperty("filename");

        } catch (IOException ex) {
            ex.printStackTrace();
            return "";
        }
    }
}

```

–ö–ª–∞—Å—Å ProviderSpELImpl –≤–Ω–µ–¥—Ä—è–µ—Ç –∏—Å–ø–æ–ª—å–∑—É—é –º–µ—Ö–∞–Ω–∏–∑–º SpEL.

```java
@Component("providerSpEL")
public class ProviderSpELImpl  implements Provider{
    
    @Value("#{property.name}") // –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Å –ø–æ–º–æ—â—å—é SpEL
    private String appName;

    @Value("#{property.version}")
    private String appVersion;

    @Value("#{property.name} - #{property.version} by #{property.author}") // –í–Ω–µ–¥—Ä–µ–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º SpEL
    private String appFullInfo;

   @Value("#{T(String).join('---',property.numList)}")
    private String join;

    @Value("#{property.fileName}")
    private String filename;

    @Override
    public String getMessage() {
        return  "App Name: " + appName + "\n" +
                "App Version: " + appVersion + "\n" +
                "Full Info: " + appFullInfo + "\n" + 
                "File name from application.properties: " + filename + "\n" + 
                "Sum: " + join + "\n";
    }

}
```

### üü¢ –û–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –±–∏–Ω–æ–≤(Scopes). –†–µ–∂–∏–º—ã –ø–æ–ª—É—á–µ–Ω–∏—è –±–∏–Ω–æ–≤

–í Spring –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ (scope) –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∏ –æ–±–ª–∞—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –±–∏–Ω–∞. Spring –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 5 –æ—Å–Ω–æ–≤–Ω—ã—Ö –∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Å–∫–æ–ø–æ–≤.

1. Singleton (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é). –û–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö.
  
```java
@Component
public class SingletonBean {
}
```

2. Prototype. –ù–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –±–∏–Ω–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ

```java
@Component
@Scope("prototype")
public class PrototypeBean {
}
```

3. Request (—Ç–æ–ª—å–∫–æ –¥–ª—è Web-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π). –û–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –±–∏–Ω–∞ –Ω–∞ HTTP-–∑–∞–ø—Ä–æ—Å

```java
@Component
@Scope("request")
public class RequestBean {
}
```

4. Session (—Ç–æ–ª—å–∫–æ –¥–ª—è Web-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π). –û–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –±–∏–Ω–∞ –Ω–∞ HTTP-—Å–µ—Å—Å–∏—é

```java
@Component
@Scope("session")
public class SessionBean {
}
```

5. Application (—Ç–æ–ª—å–∫–æ –¥–ª—è Web-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π). –û–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –±–∏–Ω–∞ –Ω–∞ –≤–µ—Å—å ServletContext (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)

```java
@Component
@Scope("application")
public class ApplicationBean {
}
```

#### –û—Å–Ω–æ–≤–Ω—ã–µ —ç—Ç–∞–ø—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –±–∏–Ω–∞

1. –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –±–∏–Ω–∞
2. –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (DI - Dependency Injection)
3. –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–æ–≤ @PostConstruct
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–Ω–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
5. –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–æ–≤ @PreDestroy –ø–µ—Ä–µ–¥ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ–º
6. –£–¥–∞–ª–µ–Ω–∏–µ –±–∏–Ω–∞ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

---

#### –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –±–∏–Ω–∞

Spring —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç (—ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞) –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –µ–≥–æ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç.

```java
@Component
public class MyBean {
    public MyBean() {
        System.out.println("1. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä MyBean –≤—ã–∑–≤–∞–Ω");
    }
}
```

---

#### –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (DI)

Spring –Ω–∞—Ö–æ–¥–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –±–∏–Ω–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–Ω–µ–¥—Ä—è–µ—Ç –∏—Ö.

```java
@Component
public class Dependency {
    public Dependency() {
        System.out.println("Dependency —Å–æ–∑–¥–∞–Ω");
    }
}

@Component
public class MyBean {
    private final Dependency dependency;

    @Autowired
    public MyBean(Dependency dependency) {
        this.dependency = dependency;
        System.out.println("2. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤–Ω–µ–¥—Ä–µ–Ω–∞ –≤ MyBean");
    }
}
```

---

#### –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–æ–≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (@PostConstruct)

–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Spring –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

```java
@Component
public class MyBean {
    @PostConstruct
    public void init() {
        System.out.println("3. –í—ã–∑–≤–∞–Ω @PostConstruct");
    }
}
```

---

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–Ω–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

–ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –æ–±—ä–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

```java
@Component
public class MyService {
    private final MyBean myBean;

    @Autowired
    public MyService(MyBean myBean) {
        this.myBean = myBean;
    }

    public void doWork() {
        System.out.println("4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–Ω–∞");
    }
}
```

---

#### –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ –±–∏–Ω–∞ (@PreDestroy)

–ü–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º —Ä–∞–±–æ—Ç—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ Spring –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥—ã —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏—è –±–∏–Ω–∞.

```java
@Component
public class MyBean {
    @PreDestroy
    public void cleanup() {
        System.out.println("5. –í—ã–∑–≤–∞–Ω @PreDestroy");
    }
}
```

---

#### –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –±–∏–Ω–∞

```java
@Component
public class MyBean implements InitializingBean, DisposableBean {
    
    public MyBean() {
        System.out.println("1. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä MyBean –≤—ã–∑–≤–∞–Ω");
    }

    @Autowired
    public void setDependency(Dependency dependency) {
        System.out.println("2. –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏");
    }

    @PostConstruct
    public void init() {
        System.out.println("3. –í—ã–∑–≤–∞–Ω @PostConstruct");
    }

    @Override
    public void afterPropertiesSet() {
        System.out.println("3. –í—ã–∑–≤–∞–Ω afterPropertiesSet()");
    }

    public void use() {
        System.out.println("4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–Ω–∞");
    }

    @PreDestroy
    public void cleanup() {
        System.out.println("5. –í—ã–∑–≤–∞–Ω @PreDestroy");
    }

    @Override
    public void destroy() {
        System.out.println("5. –í—ã–∑–≤–∞–Ω destroy()");
    }
}
```

## üî¥ –õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞

1. Spring 5 –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤. –•–æ –ö–ª–∞—Ä–µ–Ω—Å, –ö–æ–∑–º–∏–Ω–∞ –Æ–ª–∏–∞–Ω–∞, –®–µ—Ñ–µ—Ä –ö—Ä–∏—Å, –•–∞—Ä—Ä–æ–ø –†–æ–±, –î–∏–∞–ª–µ–∫—Ç–∏–∫–∞-–í–∏–ª—å—è–º—Å, 2019 (–ì–ª–∞–≤–∞ 3)
2. Pro Spring 6. An In-Depth Guide to the Spring Framework. Iuliana Cosmina, Rob Harrop, Chris Schaefer, and Clarence Ho. Apress Berkeley, CA 2023 (–ì–ª–∞–≤–∞ 3)
3. <https://docs.spring.io/spring-framework/reference/core.html>
